<html xmlns:sys="urn:schemas-design-ru:system"><head><meta http-equiv="Content-Type" content="text/html; charset=WINDOWS-1251"><title>
| PARSER | форум | DOM + XML = help |
</title><link rel="SHORTCUT ICON" href="/favicon.ico"><link rel="start" href="/"><link rel="help" href="/faq/"><link rel="search" href="/docs/"><link rel="Copyright" href="/download/license/"><link rel="author" href="/authors/"><link rel="bookmark" href="http://parser2.parser.ru/" title="Parser 2.0"><link rel="bookmark" href="http://www.artlebedev.ru/" title="Art Lebedev Studio"><link rel="stylesheet" type="text/css" href="/main.css"><link rel="stylesheet" type="text/css" href="/main-advanced.css" media="all"><link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.parser.ru/_rss.html"><script language="JavaScript" type="text/javascript" src="/popup.js"></script></head><body bgcolor="#FFFFFF" text="#000000" topmargin="5" leftmargin="5" rightmargin="5" bottommargin="5" marginwidth="5" marginheight="5"><table border="0" cellpadding="5" cellspacing="0" width="100%"><tr><td><a href="/"><img src="/i/logo.gif" alt="parser" width="200" height="50" border="0"></a></td></tr></table><br><table border="0" cellpadding="2" cellspacing="1" width="100%" class="mainNav"><tr><td width="16%" class="default"><a href="http://parser2.parser.ru/"><img src="/i/p2.gif" alt="" width="9" height="9" border="0" hspace="5" align="bottom">parser 2.0</a></td><td width="17%" class="default"><a href="/faq/"><img src="/i/p2.gif" alt="" width="9" height="9" border="0" hspace="5" align="bottom">faq</a></td><td width="17%" class="default"><a href="/authors/"><img src="/i/p2.gif" alt="" width="9" height="9" border="0" hspace="5" align="bottom">авторы</a></td><td width="17%" class="default"><a href="/docs/"><img src="/i/p2.gif" alt="" width="9" height="9" border="0" hspace="5" align="bottom">документация</a></td><td width="17%" class="default"><a href="/powered_by_parser/"><img src="/i/p2.gif" alt="" width="9" height="9" border="0" hspace="5" align="bottom">в действии</a></td><td width="16%" class="default"><a href="/feedback/"><img src="/i/p2.gif" alt="" width="9" height="9" border="0" hspace="5" align="bottom">куда говорить</a></td></tr><tr><td width="16%" class="default"><a href="/news/"><img src="/i/p2.gif" alt="" width="9" height="9" border="0" hspace="5" align="bottom">архив новостей</a></td><td width="17%" class="default"><a href="/links/"><img src="/i/p2.gif" alt="" width="9" height="9" border="0" hspace="5" align="bottom">полезные ссылки</a></td><td width="17%" class="default"><a href="/hosters/"><img src="/i/p2.gif" alt="" width="9" height="9" border="0" hspace="5" align="bottom">хостинги</a></td><td width="17%" class="default"><a href="/download/"><img src="/i/p2.gif" alt="" width="9" height="9" border="0" hspace="5" align="bottom">скачать</a></td><td width="17%" class="default"><a href="/examples/"><img src="/i/p2.gif" alt="" width="9" height="9" border="0" hspace="5" align="bottom">примеры</a></td><td width="16%" class="active"><a href="/forum/"><img src="/i/p2.gif" alt="" width="9" height="9" border="0" hspace="5" align="bottom">форум</a></td></tr></table><br><table border="0" cellpadding="5" cellspacing="1" width="100%" bgcolor="#CCCCCC"><tr bgcolor="#EEEEEE"><td width="33%" class="small"><b><a href="/forum/info.html">команды форматирования</a></b></td><td width="67%" class="small"><table border="0" width="100%" cellspacing="0" cellpadding="0"><tr><td width="100%" class="small"><b><a href="/forum/">форум</a></b></td><td><img src="/i/i-user.gif" width="16" height="16"></td><td nowrap class="small">Peranth
[ <a href="./?type=self">Свои треды</a> | <a href="/forum/register.html">Настройки</a> | <a href="/forum/?id=23813&amp;auth.logout=true">Завершить работу</a>
]</td></tr></table></td></tr><tr valign="top" bgcolor="#FFFFFF"><td class="small"><form action="/forum/message.html"><input type="hidden" name="id" value="23813"><table class="fieldset"><tr><td><div class="small" style="margin-bottom:5px">Написать ответ на текущее сообщение</div><input type="button" name="go" value="Ответить…" title="" class="small" onClick="popupWin('wnforummessageadd23813', '/forum/message.html?id=23813', 600, 550); return false;"></td></tr></table></form><form method="get" action="/forum/"><table class="fieldset"><tr><td class="small"><i>Ключевое слово:</i><br><input type="text" name="terms" value="" size="10" style="width: 100%"><br><div class="variant"><input type="checkbox" value="1" name="search_in_message" id="search_in_message1" checked><i><label for="search_in_message1">искать в тексте сообщения</label></i></div></td></tr><tr><td class="small"><i>Фильтровать по автору:</i><br><input type="text" name="author" value="" size="10" style="width: 100%"></td></tr><tr><td style="padding-left: 4px; padding-right: 4px"><input type="submit" name="doSearch" value="Найти" class="small"></td></tr></table></form><br></td><td class="bodyForum"><font size="+1"><b>DOM + XML = help</b></font><br><br><table border="0" width="100%" cellspacing="0" cellpadding="0"><tr valign="bottom"><td><i><a href="/forum/users/?uid=246" title="Профайл пользователя">Artem</a></i></td><td class="small" align="right"><i>01.12.2003 18:27</i>
/ <i class="hi">01.12.2003 18:31</i></td></tr></table><br>как с помощью DOM добавить в xml, узел(в моем случае tree) в который нужно добавить xml сгенеренный парсером(методом ^metod[]), дерево туда генерю.<br><br>пробовал по всякому, но то что генерится методом ^metod[], экранируется. <br>делаю так: <pre><font color="#990000"><b>@main<font color="#0000AA">[]</font></b></font><font color="#888888"><i></i></font>
<font color="#888888"><i># путь </i></font>
<font color="#CC0000">$path</font><font color="#0000AA">[</font>/../path/<font color="#0000AA">]</font>
<font color="#888888"><i># объект класса каталог</i></font>
<font color="#CC0000">$catalog</font><font color="#0000AA">[</font><font color="#AA0000">^catalog::catalog</font><font color="#0000AA">[]]</font>
<font color="#888888"><i># xml код дерева</i></font>
<font color="#CC0000">$tree_xml</font><font color="#0000AA">[</font><font color="#AA0000">^catalog.print_xml_tree</font><font color="#0000AA">[</font><font color="#AA0000">^catalog.select_all_category</font><font color="#0000AA">[]</font>;0<font color="#0000AA">]]</font>

<font color="#888888"><i># загружаем xml, чтобы потом с помощью DOM туда добавить дерево.</i></font>
<font color="#CC0000">$submission</font><font color="#0000AA">[</font><font color="#AA0000">^xdoc::load</font><font color="#0000AA">[</font><font color="#CC0000">$<font color="#0000AA">{</font>path<font color="#0000AA">}</font></font>xf_add_brand_subm.xml<font color="#0000AA">]]</font>
<font color="#888888"><i># создаем элемент tree</i></font>
<font color="#CC0000">$tree</font><font color="#0000AA">[</font><font color="#AA0000">^submission.createElement</font><font color="#0000AA">[</font>tree<font color="#0000AA">]]</font>
<font color="#888888"><i># создаем текстовый узел, в котором будет xml код дерева брэндов</i></font>
<font color="#CC0000">$text_node</font><font color="#0000AA">[</font><font color="#AA0000">^submission.createTextNode</font><font color="#0000AA">[</font><font color="#CC0000">$tree_xml</font><font color="#0000AA">]]</font>
<font color="#888888"><i># добавляем в узел tree xml код дерева брэндов.</i></font>
<font color="#CC0000">$add</font><font color="#0000AA">[</font><font color="#AA0000">^tree.appendChild</font><font color="#0000AA">[</font><font color="#CC0000">$text_node</font><font color="#0000AA">]]</font>
<font color="#888888"><i># добавляем узел tree к $submission</i></font>
<font color="#CC0000">$add</font><font color="#0000AA">[</font><font color="#AA0000">^submission.documentElement.appendChild</font><font color="#0000AA">[</font><font color="#CC0000">$tree</font><font color="#0000AA">]]</font>
<font color="#CC0000">$new_xdoc</font><font color="#0000AA">[</font><font color="#AA0000">^xdoc::create</font><font color="#0000AA">{</font><font color="#AA0000">^submission.string</font><font color="#0000AA">[]}]</font>
<font color="#CC0000">$response:body</font><font color="#0000AA">[</font><font color="#AA0000">^new_xdoc.string</font><font color="#0000AA">[]]</font></pre>выдает : <pre>&amp;lt;category id=&amp;quot;1&amp;quot; parent_id=&amp;quot;0&amp;quot; prev_id=&amp;quot;2&amp;quot; status=&amp;quot;0&amp;quot; add_date=&amp;quot;2003-11-27 17:26:37&amp;quot; last_mod=&amp;quot;2003-11-27 17:26:37&amp;quot;&amp;gt;
	&amp;lt;name&amp;gt;Самолеты&amp;lt;/name&amp;gt;
	&amp;lt;discription&amp;gt;самолетная техника&amp;lt;/discription&amp;gt;</pre>или как можно узел из одного xdoc добавить в другой xdoc, у меня не получилось.<br><br>прошу помощи<hr size="1" noshade><br><div class="forums"><ul class="forum"><li><b>DOM + XML = help</b>, Artem <span class="gray">[01.12.2003 18:27 / 01.12 18:31]</span><ul><li><a href="/forum/?id=23815">http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#Core-Document-importNode</a> <nobr>(-)</nobr>, Александр Петросян (PAF) <span class="gray">[01.12.2003 18:31]</span><ul><li><a href="/forum/?id=23816">Спасибо огромное! PAF forever! Parser rulezz!</a> <nobr>(-)</nobr>, Artem <span class="gray">[01.12.2003 18:37]</span></li></ul></li></ul></li></ul></div></td></tr></table><br clear="all"><table border="0" cellpadding="5" cellspacing="1" width="100%" bgcolor="#CCCCCC"><tr align="center" bgcolor="#99D228"><td width="33%" class="copyright">
E-mail: <a href="mailto:mailbox@parser.ru">mailbox@parser.ru</a></td><td width="34%" class="copyright">Copyright © 1997–2004</td><td width="33%" class="copyright"><a href="http://www.artlebedev.ru/">Студия Артемия Лебедева</a></td></tr></table></body></html>
<!-- =forum/=/forum/=0=/../data/cache/forum/24eac89f317a572f77670e221feb4bbd_win_ie_ru_HTML= -->
